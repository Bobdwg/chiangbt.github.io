<!DOCTYPE html>
<html>
<head>
	<title>Leaflet Quick Start Guide Example</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="lib/leaflet.css" />
	<!--[if lte IE 8]>
    <link rel="stylesheet" href="lib/leaflet.ie.css"/><![endif]-->
</head>
<body>
	<div id="map" style="width: 1000px; height: 600px"></div>

	<script src="lib/leaflet.js"></script>
    <script type="text/javascript" src="lib/heatmap/heatmap.js"></script>
	<script type="text/javascript" src="lib/heatmap/heatmap-leaflet.js"></script>
	<script type="text/javascript" src="lib/heatmap/QuadTree.js"></script>
    <script type="text/javascript" src="data/testData.js"></script>
	<script>

		var baseLayer = L.tileLayer(
                'http://{s}.tile.cloudmade.com/ad132e106cd246ec961bbdfbe0228fe8/997/256/{z}/{x}/{y}.png', {
                    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://cloudmade.com">CloudMade</a>',
                    maxZoom: 18
                }
        );

        var heatmapLayer = L.TileLayer.heatMap({
            // radius could be absolute or relative
            // absolute: radius in meters, relative: radius in pixels
            radius: { value: 15000, absolute: true },
            //radius: { value: 20, absolute: false },
            opacity: 0.8,
            legend: {
                position: 'br',
                title: 'test'
            },
            gradient: {
                0.45: "rgb(0,0,255)",
                0.55: "rgb(0,255,255)",
                0.65: "rgb(0,255,0)",
                0.95: "yellow",
                1.0: "rgb(255,0,0)"
            }
        });

        heatmapLayer.setData(testData.data);

        var map = new L.Map('map', {
            center: new L.LatLng(51.505, -0.09),
            zoom: 7,
            layers: [baseLayer, heatmapLayer]
        });

        // make accessible for debugging
        layer = heatmapLayer;


	</script>
</body>
</html>
